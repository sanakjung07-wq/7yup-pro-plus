/* Basic reset and theming */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;line-height:1.5;background-color:var(--surface);color:var(--on-surface);min-height:100vh;display:flex;flex-direction:column;scroll-behavior:smooth}

/* Theme variables */
:root{
  --maxw: 1200px;
  --surface: #0b0b0c;
  --surface-variant: #161617;
  --on-surface: #f5f5f5;
  --primary: #e11b22;
  --primary-dark: #b01016;
  --on-primary: #ffffff;
  --muted: #a1a1aa;
  --radius: 12px;
  --border: rgba(255,255,255,0.1);
}

/* Light theme (optional) */
[data-theme="light"]{
  --surface:#ffffff;
  --surface-variant:#f2f2f2;
  --on-surface:#0b0b0c;
  --primary:#d3181e;
  --primary-dark:#981015;
  --on-primary:#ffffff;
  --muted:#555;
  --border: rgba(0,0,0,0.1);
}

/* Utility classes */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
.muted{color:var(--muted);font-size:0.875rem}

/* Header */
.app-header{display:flex;align-items:center;justify-content:space-between;max-width:var(--maxw);width:100%;margin:0 auto;padding:12px 16px;position:sticky;top:0;z-index:10;background-color:var(--surface);position:relative}
.brand{font-weight:700;font-size:1.2rem;color:var(--on-surface);text-decoration:none}
.brand .logo-text{font-weight:800;color:var(--on-surface)}
.header-actions{display:flex;gap:8px}

/* Buttons */
.btn{display:inline-flex;align-items:center;justify-content:center;border:none;border-radius:var(--radius);padding:8px 14px;font-size:0.875rem;cursor:pointer;text-decoration:none;transition:background-color 0.2s ease, color 0.2s ease}
.btn:focus-visible{outline:2px solid var(--primary);outline-offset:2px}
.btn:not(.btn-quiet){background:linear-gradient(180deg,var(--primary),var(--primary-dark));color:var(--on-primary)}
.btn-quiet{background:var(--surface-variant);color:var(--on-surface);border:1px solid var(--border)}
.btn-quiet:hover{background:var(--surface-variant);border-color:var(--primary)}
.btn-danger{background:#3a0b0d;color:#ffb3b6;border:1px solid #8a1218}

/* Menu panel */
.menu-panel{position:absolute;top:calc(100% + 8px);right:0;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:8px 12px;box-shadow:0 4px 12px rgba(0,0,0,0.4)}
.menu-panel nav{display:flex;flex-direction:column;gap:8px}
.menu-panel a{color:var(--on-surface);text-decoration:none;font-size:0.875rem}
.menu-panel button{width:100%;}

/* Ticker */
.ticker{background:var(--surface-variant);color:var(--on-surface);padding:4px 16px;font-size:0.75rem}
.ticker__inner{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

/* Toolbar */
.toolbar{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:8px;max-width:var(--maxw);width:100%;margin:12px auto;padding:0 16px}
.search{flex:1;position:relative}
.search input{width:100%;padding:8px 12px;border-radius:var(--radius);border:1px solid var(--border);background:var(--surface-variant);color:var(--on-surface)}
.chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.chip{border:none;border-radius:18px;padding:6px 14px;font-size:0.75rem;cursor:pointer;background:var(--surface-variant);color:var(--on-surface);transition:background-color 0.2s ease;color 0.2s ease}
.chip[aria-selected="true"],.chip.is-active{background:var(--primary);color:var(--on-primary)}

/* Grid and cards */
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:16px;
  max-width:var(--maxw);
  width:100%;
  margin:0 auto;
  padding:0 16px 32px;
}
.card{background:var(--surface-variant);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;display:flex;flex-direction:column;transition:transform 0.2s ease,box-shadow 0.2s ease}
.card:hover{transform:translateY(-4px);box-shadow:0 6px 16px rgba(0,0,0,0.4)}
.card img{width:100%;aspect-ratio:1/1;height:auto;object-fit:cover;display:block}
.card__body{padding:12px;display:flex;flex-direction:column;flex-grow:1}
.card__tag{font-size:0.75rem;color:var(--primary);margin-bottom:4px}
.card__title{font-size:1rem;font-weight:700;margin-bottom:4px;color:var(--on-surface)}
.card__subtitle{font-size:0.875rem;color:var(--muted);margin-bottom:auto}
.card__cta{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}

/* Modal */
/* Modal (frosted glass effect) */
.modal{
  /* Position the modal in the center of the viewport */
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  /* Add a subtle border and rounded corners */
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: var(--radius);
  /* Remove extra padding on the dialog element, content is padded inside .modal__body */
  padding: 0;
  /* Frosted glass appearance */
  background: rgba(0, 0, 0, 0.5);
  color: var(--on-surface);
  /* Make the modal slightly smaller on mobile and limit its maximum width on large screens */
  width: 80%;
  max-width: 400px;
  /* Shadow for depth */
  box-shadow: 0 8px 24px rgba(0,0,0,0.6);
  /* Increased blur for a frosted effect */
  backdrop-filter: blur(12px);
  /* Ensure tall modals do not overflow the viewport */
  max-height: 90vh;
  overflow-y: auto;
}
.modal::backdrop{background:rgba(0,0,0,0.6)}
.modal__body{
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.modal__body img{
  width:100%;
  aspect-ratio:1/1;
  height:auto;
  object-fit:cover;
  border-radius:var(--radius);
}
.modal__body h2{
  font-size:1.1rem;
  font-weight:700;
  margin-top:8px;
  margin-bottom:0;
  color:var(--on-surface);
}
.modal__body p{
  font-size:0.9rem;
  margin:0;
}
.modal-note,.modal-warning,.modal-age{
  color:var(--muted);
  font-size:0.75rem;
}
.modal__close{
  position:absolute;
  top:8px;
  right:8px;
  background:transparent;
  border:none;
  font-size:1.25rem;
  color:var(--on-surface);
  cursor:pointer;
}
.modal__cta{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin-top:12px;
}
/* Override button colors for danger (remove) in modal */
.btn-danger{
  background:#3a0b0d;
  color:#ffb3b6;
  border:1px solid #8a1218;
}

/* Panels */
.home-panels{max-width:var(--maxw);margin:0 auto 24px;padding:0 16px;display:grid;gap:16px}
.panel{background:var(--surface-variant);border:1px solid var(--border);border-radius:var(--radius);padding:16px}
.panel h2{font-size:1.1rem;font-weight:700;margin-bottom:8px;color:var(--on-surface)}
.panel ul{margin-left:20px;font-size:0.9rem;color:var(--on-surface)}
.panel ul li{margin-bottom:4px}
.panel p{font-size:0.8rem;color:var(--muted);margin-top:8px}

/* FAQ */
.faq-section{max-width:var(--maxw);margin:0 auto 32px;padding:0 16px;display:flex;flex-direction:column;gap:12px}
.faq-section details{background:var(--surface-variant);border:1px solid var(--border);border-radius:var(--radius);padding:12px}
.faq-section summary{cursor:pointer;list-style:none;font-weight:600;color:var(--on-surface)}
.faq-section p{margin-top:8px;font-size:0.875rem;color:var(--muted)}

/* Hero */
.hero{max-width:var(--maxw);margin:0 auto;padding:24px 16px;background:linear-gradient(180deg,rgba(225,27,34,0.12),rgba(177,16,22,0.08));border-bottom:1px solid var(--border)}
.hero__inner{max-width:720px;margin:0 auto;text-align:center;display:flex;flex-direction:column;gap:12px}
.hero__title{font-size:1.6rem;font-weight:800;color:var(--on-surface)}
.hero__subtitle{font-size:1rem;color:var(--muted)}
.hero__cta{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-top:8px}

/* Footer */
.app-footer{margin-top:auto;padding:16px;text-align:center;font-size:0.8rem;color:var(--muted);background:var(--surface-variant)}
.app-footer a{color:var(--primary)}

/* Social links section */
.social-links{
  display:flex;
  justify-content:center;
  gap:16px;
  margin:20px 0;
}
.social-links a img{
  width:32px;
  height:32px;
  display:block;
  /* Invert colors on dark backgrounds so icons remain visible */
  filter:invert(1);
}

/* Pagination */
.pagination{display:flex;justify-content:center;flex-wrap:wrap;gap:4px;margin:16px 0;}
.pagination button{border:none;background:var(--surface-variant);color:var(--on-surface);padding:6px 12px;border-radius:var(--radius);cursor:pointer;font-size:0.8rem;min-width:32px;}
.pagination button[aria-current="page"]{background:var(--primary);color:var(--on-primary)}
.pagination button:not([aria-current="page"]):hover{background:var(--primary-dark);color:var(--on-primary)}

/* Offline page */
.offline{display:flex;align-items:center;justify-content:center;background:var(--surface);color:var(--on-surface);text-align:center;height:100vh}
.offline__inner{padding:24px}

/* Hide the standalone Home link on very narrow screens to avoid overlap */
@media (max-width: 600px){
  .header-actions .home-link{display:none;}
}
